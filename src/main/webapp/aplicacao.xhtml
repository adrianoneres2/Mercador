<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/visao/templates/principal.xhtml">

	<ui:define name="menu">
		<h:form name="formMenu" id="idFormMenu">
			<p:growl id="growlMenu" showDetail="true" sticky="true" escape="true" />
			<!-- 			<p:panel id="MenuTeste" rendered="#{autenticadorVisao.logado}"> -->
			<p:menu toggleable="true" rendered="#{autenticadorVisao.logado}">
				<p:submenu label="Principal"
					action="#{usuarioVisao.acessar('APLICACAO')}"
					update="growlMenu, :outputPanelConteudo" process="@this" />

				<p:submenu label="Produto">
					<p:menuitem value="Cadastro"
						action="#{usuarioVisao.acessar('CADASTROPRODUTO')}"
						update="growlMenu, :outputPanelConteudo">
					</p:menuitem>

					<p:menuitem value="Consulta"
						action="#{usuarioVisao.acessar('CONSULTAPRODUTO')}"
						update="growlMenu, :outputPanelConteudo" process="@this" />
				</p:submenu>

				<p:submenu label="Usuário">
					<p:menuitem value="Cadastro"
						action="#{usuarioVisao.acessar('CADASTROUSUARIO')}"
						update="growlMenu, :outputPanelConteudo" process="@this" />

					<p:menuitem value="Consulta"
						action="#{usuarioVisao.acessar('CONSULTAUSUARIO')}"
						update="growlMenu, :outputPanelConteudo" process="@this" />
				</p:submenu>

				<p:submenu label="Caixa">
					<p:menuitem value="Abertura"
						action="#{caixaVisao.abrirJanelaAberturaCaixa()}" process="@this"
						update="growlMenu, :outputPanelConteudo" />

					<p:menuitem value="Fechamento"
						action="#{caixaVisao.abrirJanelaFechamentoCaixa()}"
						process="@this" update="growlMenu, :outputPanelConteudo" />
				</p:submenu>

				<p:submenu label="Venda">
					<p:menuitem value="Nova"
						action="#{vendaVisao.acessar('VENDA')}"
						update="growlMenu, :outputPanelConteudo" process="@this" />

					<p:menuitem value="Consultar"
						action="#{vendaVisao.abrirJanelaFechamentoCaixa()}"
						process="@this" update="growlMenu, :outputPanelConteudo" />
				</p:submenu>

				<p:submenu label="Configurações">
					<p:menuitem value="Perfil"
						action="#{usuarioVisao.acessar('GERENCIARPERFIL')}"
						update="growlMenu, :outputPanelConteudo" process="@this" />

					<p:menuitem value="Categoria"
						action="#{usuarioVisao.acessar('GERENCIARPERFIL')}"
						update="growlMenu, :outputPanelConteudo" process="@this" />
				</p:submenu>
			</p:menu>
			<!-- 			</p:panel> -->
			<p:commandButton value="Ajuda" action="#{autenticadorVisao.sair}"
				update="growlMenu, :outputPanelConteudo" />

			<p:commandButton value="Sair" action="#{autenticadorVisao.sair}"
				update="growlMenu, :outputPanelConteudo, :idFormMenu, :idPerfilUsuario" />
		</h:form>
	</ui:define>

	<!-- 	<ui:define name="conteudo"> -->
	<!-- 		<ui:insert name="conteudoAplicacao" /> -->
	<!-- 	</ui:define> -->

	<ui:define name="conteudo">
		<h:panelGrid columns="1" width="100%">
			<p:outputPanel id="outputPanelConteudo">
				<ui:include page="#{usuarioVisao.getPaginaAtual()}" />
			</p:outputPanel>
		</h:panelGrid>
	</ui:define>

</ui:composition>