<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/aplicacao.xhtml">

	<ui:define name="conteudoAplicacao">


		<script>
            function mascara(o, f) {
              v_obj = o;
              v_fun = f;
              setTimeout("execmascara()", 1);
            }
            function execmascara() {
              v_obj.value = v_fun(v_obj.value);
            }
         function valor(v) {
        v = v.replace(/\D/g, "");
        v = v.replace(/[0-9]{15}/, "inválido");
        v = v.replace(/(\d{1})(\d{11})$/, "$1.$2"); // coloca ponto antes dos
        // Ãºltimos 11 digitos
        v = v.replace(/(\d{1})(\d{8})$/, "$1.$2"); // coloca ponto antes dos
        // Ãºltimos 8 digitos
        v = v.replace(/(\d{1})(\d{5})$/, "$1.$2"); // coloca ponto antes dos
        // Ãºltimos 5 digitos
        v = v.replace(/(\d{1})(\d{1,2})$/, "$1,$2"); // coloca virgula antes dos
        // Ãºltimos 2 digitos
        return v;
        }

        function valorInteiro(v) {
            v = v.replace(/\D/g, "");
            v = v.replace(/[0-9]{15}/, "inválido");
            return v;
		}
</script>

		<h:form id="idFormVenda">
			<p:growl id="growlvenda" showDetail="true" escape="true"
				closable="true" styleClass="messages" />
			<br />
			<p:layout>
				<p:layoutUnit position="west" resizable="true" size="500"
					minSize="100" maxSize="500">
					<p:panel id="idPanelVenda">

						<f:facet name="header">
							<h:outputLabel value="Venda" />
						</f:facet>
						<p:outputLabel value="Código do caixa: #{vendaVisao.caixa.codigoCaixa}" />
					</p:panel>
				</p:layoutUnit>

				<p:layoutUnit position="center">
					<p:panel id="idPanelItensVenda">
						<f:facet name="header">
							<h:outputLabel value="Itens da Venda" />
						</f:facet>
					</p:panel>
				</p:layoutUnit>
			</p:layout>
			<p:spacer />
			<p:panel id="idPanelBotoes">
				<f:facet name="footer">
					<p:commandButton type="submit" value="Cadastrar"
						action="#{vendaVisao.novo()}"
						update=":idFormVenda:idPanelVenda growlvenda" />
					<p:commandButton value="Voltar" type="submit"
						action="#{usuarioVisao.aplicacao()}" update="idFormVenda" />
				</f:facet>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>