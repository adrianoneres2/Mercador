<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/aplicacao.xhtml">

	<ui:define name="conteudoAplicacao">

		<h:form id="idFormVenda">
			<p:growl id="growlVenda" showDetail="true" escape="true"
				closable="true" styleClass="messages" />
			<br />
			<p:layout>
				<p:layoutUnit position="west" resizable="true" minSize="200"
					maxSize="500">
					<p:panel id="idPanelVendaInfo">

						<p:outputLabel value="Código do Caixa: " />
						<br />
						<p:inputText disabled="true"
							value="#{vendaVisao.caixa.codigoCaixa}" />
						<br />
						<br />
						<p:outputLabel value="Código da Venda :" />
						<br />
						<p:inputText disabled="true"
							value="#{vendaVisao.venda.codigoVenda}" />
						<br />
						<br />
						<p:outputLabel value="Valor Total: " />
						<br />
						<br />
						<p:inputText value="R$: " disabled="true"></p:inputText>
						<br />
						<br />
						<p:outputLabel value="Forma de pagamento: " />
						<br />
						<br />

						<!-- 						<p:selectOneMenu id="idSelectSubCategoria" -->
						<!-- 							value="" required="true"> -->
						<!-- 							<f:selectItem itemValue="0" itemLabel="Selecione" /> -->
						<!-- 							<f:selectItems -->
						<!-- 								value="#{vendaVisao.listaFormasPagamento.entrySet()}" -->
						<!-- 								var="itemFormasPagamento" itemValue="#{itemFormasPagamento.key}" -->
						<!-- 								itemLabel="#{itemFormasPagamento.value}" /> -->
						<!-- 						</p:selectOneMenu> -->

						<br />
						<br />
					</p:panel>
					<p:panel>
						<p:commandButton value="Finalizar Venda"
							style="background: green !important;  color: white !important;"></p:commandButton>
						<br />
						<p:commandButton value="Cancelar Venda"
							style="background: #cc0000 !important; color: white !important;"></p:commandButton>
					</p:panel>
				</p:layoutUnit>

				<p:layoutUnit position="center">
					<p:panel id="idPanelVenda">
						<h:panelGrid id="idPanelGridPrincipalVenda" columns="9">

							<p:outputLabel id="labelVendaProduto" value="Produto" />
							<br />
							<p:inputText value="#{vendaVisao.codigoBarras}"
								label="labelVendaProduto" />

							<p:spacer />

							<p:outputLabel id="labelQuantidadeProduto" value="Quantidade" />
							<br />
							<p:inputText value="#{vendaVisao.quantidade}" label="labelQuantidadeProduto" />
							<p:spacer />
							<p:commandButton id="botaoVendaConsultar" value="Consultar"
								action="#{vendaVisao.consultarProduto()}"
								update="dataTableProduto growlVenda" ajax="true" />

						</h:panelGrid>
					<p:spacer />
					<p:dataTable id="dataTableProduto" 
					    var="produto"
						value="#{vendaVisao.produtos}" lazy="true" 
						paginator="false"
						scrollable="true" scrollWidth="90%" scrollHeight="295">

						<p:column headerText="Código" width="30">
							<h:outputText value="#{produto.codigoProduto}" />
						</p:column>

						<p:column headerText="Nome" width="150">
							<h:outputText value="#{produto.nomeProduto}" />
						</p:column>

						<p:column headerText="Quantidade" width="20">
							<h:outputText value="#{produto.quantidadeProduto}" />
						</p:column>

						<p:column headerText="Valor" width="50">
							<h:outputText value="#{produto.valorVenda}">
								<f:convertNumber type="currency" />
							</h:outputText>
						</p:column>

						<p:column headerText="Total" width="50">
							<h:outputText value="#{varProduto.valorVenda}">
								<f:convertNumber type="currency" />
							</h:outputText>
						</p:column>

					</p:dataTable>
                  </p:panel>
				</p:layoutUnit>
			</p:layout>
		</h:form>
	</ui:define>
</ui:composition>